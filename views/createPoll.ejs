<!-- TODO: Header? -->
<%- include('partials/header') %>
<body>
    <div class="main-content">
        <h1>Create a New Poll</h1>
        <form action="/createPoll" method="POST">
            <div>
              <label for="question">Poll Question:</label>
              <input type="text" name="question" id="question" required />
            </div>
            <div>
              <label>Options:</label>
              <input type="text" name="options[]" placeholder="Option 1" required />
              <input type="text" name="options[]" placeholder="Option 2" required />
              <input type="text" name="options[]" placeholder="Option 3" />
              <input type="text" name="options[]" placeholder="Option 4" />
            </div>
            <button type="submit">Create Poll</button>
          </form>
          
    </div>

    <script>
        document.querySelector("form").addEventListener("submit", (event) => {
          const options = Array.from(document.querySelectorAll("input[name='options[]']"))
            .map(input => input.value.trim())
            .filter(option => option);
      
          if (options.length < 2) {
            event.preventDefault();
            alert("Please provide at least two valid options.");
          }
        });
      </script>
      
</body>
</html>